---
http_interactions:
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"messages":[{"role":"user","content":[{"type":"text","text":"You are
        a bot that can run UNIX system commands"}]},{"role":"user","content":[{"type":"text","text":"Hey,
        run the ''date'' command"}]}],"model":"claude-3-5-sonnet-20240620","max_tokens":1024,"tools":[{"name":"system","description":"Runs
        system commands","input_schema":{"type":"object","properties":{"command":{"type":"string"}},"required":["command"]}}]}'
    headers:
      Content-Type:
      - application/json
      X-Api-Key:
      - TOKEN
      Anthropic-Version:
      - '2023-06-01'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Transfer-Encoding:
      - chunked
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 13 Jul 2025 22:42:04 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - '40000'
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - '40000'
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - '2025-07-13T22:42:03Z'
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - '8000'
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - '8000'
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - '2025-07-13T22:42:05Z'
      Anthropic-Ratelimit-Requests-Limit:
      - '50'
      Anthropic-Ratelimit-Requests-Remaining:
      - '49'
      Anthropic-Ratelimit-Requests-Reset:
      - '2025-07-13T22:42:04Z'
      Anthropic-Ratelimit-Tokens-Limit:
      - '48000'
      Anthropic-Ratelimit-Tokens-Remaining:
      - '48000'
      Anthropic-Ratelimit-Tokens-Reset:
      - '2025-07-13T22:42:03Z'
      Request-Id:
      - req_011CR5pnpmAHhuoipUmUcgr2
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Anthropic-Organization-Id:
      - 89796e02-61da-4a75-b7ee-c55929f0d748
      Via:
      - 1.1 google
      Cf-Cache-Status:
      - DYNAMIC
      X-Robots-Tag:
      - none
      Server:
      - cloudflare
      Cf-Ray:
      - 95ec4a91da0e01a6-GRU
    body:
      encoding: ASCII-8BIT
      string: '{"id":"msg_0151E9aquT2T7RcfcnzDuE1o","type":"message","role":"assistant","model":"claude-3-5-sonnet-20240620","content":[{"type":"text","text":"Certainly!
        I can run the ''date'' command for you using the system function. Here''s
        how we''ll do that:"},{"type":"tool_use","id":"toolu_012r8vg8jo13sXXAmYknSd2z","name":"system","input":{"command":"date"}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":372,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":79,"service_tier":"standard"}}'
  recorded_at: Sun, 13 Jul 2025 22:41:54 GMT
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"messages":[{"role":"user","content":[{"type":"text","text":"You are
        a bot that can run UNIX system commands"}]},{"role":"user","content":[{"type":"text","text":"Hey,
        run the ''date'' command"}]},{"role":"assistant","content":[{"type":"tool_use","id":"toolu_012r8vg8jo13sXXAmYknSd2z","name":"system","input":{"command":"date"}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_012r8vg8jo13sXXAmYknSd2z","content":[{"type":"text","text":"{\"success\":true}"}]}]}],"model":"claude-3-5-sonnet-20240620","max_tokens":1024,"tools":[{"name":"system","description":"Runs
        system commands","input_schema":{"type":"object","properties":{"command":{"type":"string"}},"required":["command"]}}]}'
    headers:
      Content-Type:
      - application/json
      X-Api-Key:
      - TOKEN
      Anthropic-Version:
      - '2023-06-01'
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Transfer-Encoding:
      - chunked
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sun, 13 Jul 2025 22:42:07 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - '40000'
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - '40000'
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - '2025-07-13T22:42:05Z'
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - '8000'
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - '8000'
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - '2025-07-13T22:42:08Z'
      Anthropic-Ratelimit-Requests-Limit:
      - '50'
      Anthropic-Ratelimit-Requests-Remaining:
      - '49'
      Anthropic-Ratelimit-Requests-Reset:
      - '2025-07-13T22:42:05Z'
      Anthropic-Ratelimit-Tokens-Limit:
      - '48000'
      Anthropic-Ratelimit-Tokens-Remaining:
      - '48000'
      Anthropic-Ratelimit-Tokens-Reset:
      - '2025-07-13T22:42:05Z'
      Request-Id:
      - req_011CR5pnwCN8GgFHSnPLoCU4
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Anthropic-Organization-Id:
      - 89796e02-61da-4a75-b7ee-c55929f0d748
      Via:
      - 1.1 google
      Cf-Cache-Status:
      - DYNAMIC
      X-Robots-Tag:
      - none
      Server:
      - cloudflare
      Cf-Ray:
      - 95ec4a9b5f2ba163-GRU
    body:
      encoding: ASCII-8BIT
      string: '{"id":"msg_013eJQhSpAPBu5TXrJM5N28t","type":"message","role":"assistant","model":"claude-3-5-sonnet-20240620","content":[{"type":"text","text":"Certainly!
        I''ve run the ''date'' command for you using the system function. The command
        was executed successfully. The ''date'' command typically displays the current
        date and time according to your system''s settings. \n\nWhile I don''t have
        direct access to the output of the command, it would typically show something
        like this:\n\n```\nTue May 23 14:30:45 PDT 2023\n```\n\nThe exact output would
        depend on your system''s current date, time, and timezone settings. Is there
        anything specific about the date or time you''d like to know or any other
        command you''d like me to run?"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":439,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":139,"service_tier":"standard"}}'
  recorded_at: Sun, 13 Jul 2025 22:41:56 GMT
recorded_with: VCR 6.3.1
