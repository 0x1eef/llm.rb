---
http_interactions:
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"messages":[{"role":"user","content":[{"type":"text","text":"Hey,
        run the ''date'' command"}]},{"role":"user","content":[{"type":"text","text":"You
        are a bot that can run UNIX system commands"}]}],"model":"gpt-4.1","tools":[{"type":"function","name":"system","function":{"name":"system","description":"Runs
        system commands","parameters":{"type":"object","properties":{"command":{"type":"string"}},"required":["command"]}}}],"stream":true,"stream_options":{"include_usage":true}}'
    headers:
      Content-Type:
      - application/json
      Authorization:
      - Bearer TOKEN
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Transfer-Encoding:
      - chunked
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 23 Feb 2026 10:08:37 GMT
      Content-Type:
      - text/event-stream; charset=utf-8
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - user-j1pztzt5nogpcsid23u7gskj
      Openai-Processing-Ms:
      - '437'
      Openai-Project:
      - proj_YSiqu4bByPgi6EwPnLiY8irR
      Openai-Version:
      - '2020-10-01'
      Server:
      - cloudflare
      X-Ratelimit-Limit-Requests:
      - '500'
      X-Ratelimit-Limit-Tokens:
      - '30000'
      X-Ratelimit-Remaining-Requests:
      - '499'
      X-Ratelimit-Remaining-Tokens:
      - '29978'
      X-Ratelimit-Reset-Requests:
      - 120ms
      X-Ratelimit-Reset-Tokens:
      - 44ms
      X-Request-Id:
      - req_8a88ee0312f741d8a9a7d02f4be5bc88
      X-Openai-Proxy-Wasm:
      - v0.1
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=X50bYfSFN5SvRI8i8nhdNkON49QVAsYOPcV8CRWvbFA-1771841316.734484-1.0.1.1-l14lZzCHNE0trw5QfjRGjG5aKXgg0tR2t_45dVfyHLCLFiqg.4hSrN43wLKenqKzwQBx3xFbJZ02VGVtnj8mxm6hWB9JTegbQZDrxHHcQc3y6YsDKnrZAD3BxL2oy5LS;
        HttpOnly; Secure; Path=/; Domain=api.openai.com; Expires=Mon, 23 Feb 2026
        10:38:37 GMT
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Cf-Ray:
      - 9d25ec459957f1c3-GRU
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: UTF-8
      string: |+
        data: {"id":"chatcmpl-DCN9htTSZapM35RNGRzLoRKHwjCBB","object":"chat.completion.chunk","created":1771841317,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_8fd6ceea93","choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_vLaRtZuh7gPgaaQvJRfNTSIe","type":"function","function":{"name":"system","arguments":""}}],"refusal":null},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"6NqcZIAUyDQCV"}

        data: {"id":"chatcmpl-DCN9htTSZapM35RNGRzLoRKHwjCBB","object":"chat.completion.chunk","created":1771841317,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_8fd6ceea93","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"{\""}}]},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"a2"}

        data: {"id":"chatcmpl-DCN9htTSZapM35RNGRzLoRKHwjCBB","object":"chat.completion.chunk","created":1771841317,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_8fd6ceea93","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"command"}}]},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"9ZyPLXbDLVthXq"}

        data: {"id":"chatcmpl-DCN9htTSZapM35RNGRzLoRKHwjCBB","object":"chat.completion.chunk","created":1771841317,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_8fd6ceea93","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\":\""}}]},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":""}

        data: {"id":"chatcmpl-DCN9htTSZapM35RNGRzLoRKHwjCBB","object":"chat.completion.chunk","created":1771841317,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_8fd6ceea93","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"date"}}]},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"P"}

        data: {"id":"chatcmpl-DCN9htTSZapM35RNGRzLoRKHwjCBB","object":"chat.completion.chunk","created":1771841317,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_8fd6ceea93","choices":[{"index":0,"delta":{"tool_calls":[{"index":0,"function":{"arguments":"\"}"}}]},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"he"}

        data: {"id":"chatcmpl-DCN9htTSZapM35RNGRzLoRKHwjCBB","object":"chat.completion.chunk","created":1771841317,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_8fd6ceea93","choices":[{"index":0,"delta":{},"logprobs":null,"finish_reason":"tool_calls"}],"usage":null,"obfuscation":"LzO"}

        data: {"id":"chatcmpl-DCN9htTSZapM35RNGRzLoRKHwjCBB","object":"chat.completion.chunk","created":1771841317,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_8fd6ceea93","choices":[],"usage":{"prompt_tokens":62,"completion_tokens":13,"total_tokens":75,"prompt_tokens_details":{"cached_tokens":0,"audio_tokens":0},"completion_tokens_details":{"reasoning_tokens":0,"audio_tokens":0,"accepted_prediction_tokens":0,"rejected_prediction_tokens":0}},"obfuscation":"giPf0kwvo9ZjVt"}

        data: [DONE]

  recorded_at: Mon, 23 Feb 2026 10:08:33 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"messages":[{"role":"user","content":[{"type":"text","text":"You are
        a bot that can run UNIX system commands"}]},{"role":"user","content":[{"type":"text","text":"Hey,
        run the ''date'' command"}]},{"role":"assistant","content":null,"tool_calls":[{"index":0,"id":"call_vLaRtZuh7gPgaaQvJRfNTSIe","type":"function","function":{"name":"system","arguments":"{\"command\":\"date\"}"}}]},{"role":"tool","tool_call_id":"call_vLaRtZuh7gPgaaQvJRfNTSIe","content":"{\"success\":true}"}],"model":"gpt-4.1","tools":[{"type":"function","name":"system","function":{"name":"system","description":"Runs
        system commands","parameters":{"type":"object","properties":{"command":{"type":"string"}},"required":["command"]}}}],"stream":true,"stream_options":{"include_usage":true}}'
    headers:
      Content-Type:
      - application/json
      Authorization:
      - Bearer TOKEN
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
      Transfer-Encoding:
      - chunked
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 23 Feb 2026 10:08:38 GMT
      Content-Type:
      - text/event-stream; charset=utf-8
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - user-j1pztzt5nogpcsid23u7gskj
      Openai-Processing-Ms:
      - '290'
      Openai-Project:
      - proj_YSiqu4bByPgi6EwPnLiY8irR
      Openai-Version:
      - '2020-10-01'
      Server:
      - cloudflare
      X-Ratelimit-Limit-Requests:
      - '500'
      X-Ratelimit-Limit-Tokens:
      - '30000'
      X-Ratelimit-Remaining-Requests:
      - '499'
      X-Ratelimit-Remaining-Tokens:
      - '29972'
      X-Ratelimit-Reset-Requests:
      - 120ms
      X-Ratelimit-Reset-Tokens:
      - 56ms
      X-Request-Id:
      - req_bbbbcf2e1c574248a9ad011b68818bad
      X-Openai-Proxy-Wasm:
      - v0.1
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - __cf_bm=1COlOQFvfhR9VSCu732zTxA5JHPa.dmGPuFq7TcgbDY-1771841317.750695-1.0.1.1-yWmEA7UtO72hqXij4._YTZklRgvOADfMzM5mJehFqB4wAco1YoXtuJvRt7Ej5act143K.Nk2CUtfXaC30QaR2wkCJfNRnWNtAOpSoql38nqrjUGzMwm7WkTMfwDV603B;
        HttpOnly; Secure; Path=/; Domain=api.openai.com; Expires=Mon, 23 Feb 2026
        10:38:38 GMT
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Cf-Ray:
      - 9d25ec4b5cd9998e-GRU
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: UTF-8
      string: |+
        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"role":"assistant","content":"","refusal":null},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"25ZUhdMyManDq"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":"The"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"TfC64WagUhze"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" '"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"fVodfKWVX5kkw"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":"date"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"HqjlYEb6XYJ"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":"'"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"8Ieg3djXrA8wtZ"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" command"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"8euYCVU"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" has"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"RJeEWkKptJO"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" been"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"KhwrCYZlEG"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" run"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"8YFJHEIhNNG"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" successfully"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"IE"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":"."},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"7paR575MfP7yvO"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" If"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"61QkE2CFoL7Y"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" you"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"nhvbMtul6le"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" would"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"h4FpoPV4a"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" like"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"57rzGAi0Cv"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" to"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"GK2VwtuAFGb1"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" see"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"tQtBvexrgSh"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" the"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"HX5rDP8XmFS"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" current"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"9CqDOs4"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" date"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"ZJ9L3NmgZr"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" and"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"OridptgeTCJ"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" time"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"PJtQCyvm5C"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" output"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"colk9SkA"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":","},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"w1H2h2A410j6ZE"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" please"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"zQBCoUCG"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" let"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"L02ulWBSBeS"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" me"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"lq49m1kBbHpg"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":" know"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"Yf96QGeweL"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{"content":"!"},"logprobs":null,"finish_reason":null}],"usage":null,"obfuscation":"rY8QLoX9B8mUMe"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[{"index":0,"delta":{},"logprobs":null,"finish_reason":"stop"}],"usage":null,"obfuscation":"OoW1l7aS1"}

        data: {"id":"chatcmpl-DCN9iX9OvGfPHip8HmS9XrMYCT6BX","object":"chat.completion.chunk","created":1771841318,"model":"gpt-4.1-2025-04-14","service_tier":"default","system_fingerprint":"fp_2240633f8e","choices":[],"usage":{"prompt_tokens":87,"completion_tokens":29,"total_tokens":116,"prompt_tokens_details":{"cached_tokens":0,"audio_tokens":0},"completion_tokens_details":{"reasoning_tokens":0,"audio_tokens":0,"accepted_prediction_tokens":0,"rejected_prediction_tokens":0}},"obfuscation":"GAPEGEReZRlnR"}

        data: [DONE]

  recorded_at: Mon, 23 Feb 2026 10:08:35 GMT
recorded_with: VCR 6.3.1
...
